% TODO: add in the referee tag for the submission
%\documentclass[global,twocolumn,referee]{svjour}
\documentclass[global,twocolumn,keeplastbox]{svjour}
\usepackage{cite}
\usepackage{amsmath}
% \usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{url}
\usepackage{comment}
\usepackage{paralist}
\usepackage{graphicx}
\graphicspath{{./figs/}}
\usepackage{listings}
\usepackage[usenames,dvipsnames,svgnames,table]{xcolor}
\usepackage{flushend}
\usepackage{hyperref}
\usepackage[firstpage]{draftwatermark}
\usepackage[lighttt]{lmodern}
\usepackage[normalem]{ulem}

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{mauve}{rgb}{0.58,0,0.82}
\definecolor{light-gray}{gray}{0.88}

\lstdefinestyle{myML}
{frame=none,
  basicstyle=\ttfamily,
  language=ML,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  numbers=none,
  numberstyle=\tiny\color{gray},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  breaklines=false,
  breakatwhitespace=true,
  tabsize=2,
  linewidth=2\linewidth
}

\lstdefinestyle{agree}
{frame=none,
  basicstyle=\ttfamily,
  language=ML,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  numbers=none,
  numberstyle=\tiny\color{gray},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  breaklines=false,
  breakatwhitespace=true,
  tabsize=2,
  linewidth=2\linewidth,
  morecomment=[l]{--},
  escapeinside={*}{*},
  morekeywords={eq, bool, guarantee, assume, true, false, pre, not, and, or, property, const, Historically, Since, Once, event, annex, Implementation, process, subcomponents}
}

\hyphenation{op-tical net-works semi-conduc-tor Cake-ML}

% Comment macros
\newcommand{\newjunk}[1]{\textcolor{red}{#1}}
\newcommand{\oldjunk}[1]{\sout{#1}}

\newcommand{\konst}[1]{\ensuremath{\mathsf{#1}}}
\newcommand{\imp}{\Rightarrow}
\newcommand{\set}[1]{\ensuremath{\{ {#1} \}}}
\newcommand{\sem}[1]{\ensuremath{[\![ #1 ]\!]}}
\newcommand{\kstar}[1]{\ensuremath{{#1}^{*}}}
\newcommand{\Lang}[1]{\ensuremath{{\mathcal L}({#1})}}
\newcommand{\Eqs}{\ensuremath{\mathit{Eqs}}}
\newcommand{\itelse}[3]{\mbox{$\mathtt{if}\ {#1}\ \mathtt{then}\ {#2}\ \mathtt{else}\ {#3}$}}

\newcommand{\figref}[1]{Fig.~\ref{#1}}
\newcommand{\secref}[1]{Sec.~\ref{#1}}
\newcommand{\lineref}[1]{Line~\ref{#1}}
\newcommand{\linesref}[2]{Lines~\ref{#1}--\ref{#2}}

% Acronym macros
\newcommand{\brfcs}{BriefCASE}
\newcommand{\agr}{AGREE}
\newcommand{\splt}{SPLAT}
\newcommand{\ckml}{CakeML}

% \newcommand{\eqref}[1]{Eq.~\ref{#1}}

% Latex trickery for infix div operator, from stackexchange

%% \makeatletter
%% \newcommand*{\bdiv}{%
%%   \nonscript\mskip-\medmuskip\mkern5mu%
%%   \mathbin{\operator@font div}\penalty900\mkern5mu%
%%   \nonscript\mskip-\medmuskip
%% }
%% \makeatother

\newcommand{\ie}{\textit{i.e.}}
\newcommand{\eg}{\textit{e.g.}}
\newcommand{\etal}{\textit{et al.}}
\newcommand{\etc}{\textit{etc.}}
\newcommand{\adhoc}{\textit{ad hoc}}

% \theoremstyle{plain}
% \newtheorem{theorem}{Theorem}
% \newtheorem{lemma}{Lemma}

% \theoremstyle{definition}
% \newtheorem{definition}{Definition}

% \theoremstyle{remark}
% \newtheorem{remark}{Remark}

\journalname{Software and Systems Modeling}

\newif\ifREVISIONS
\REVISIONSfalse

\begin{document}
\title{
  Synthesizing Verified Components for Cyber Assured Systems Engineering
  \thanks{DISTRIBUTION STATEMENT A.  Approved for public release.}
}

\author{
  Eric Mercer\inst{1}    \and
  Konrad Slind\inst{2}   \and
  Isaac Amundson\inst{2} \and
  Darren Cofer\inst{2}   \and
  Junaid Babar\inst{3}   \and
  David Hardin\inst{3}
}

\institute{
  Brigham Young University        \\
  Provo, Utah                     \and
  Applied Research and Technology \\
  Collins Aerospace               \\
  Minneapolis, Minnesota          \and
  Applied Research and Technology \\
  Collins Aerospace               \\
  Cedar Rapids, Iowa
}

\date{Received: date / Revised version: date}

\maketitle

\begin{abstract}
\input{abstract}
\end{abstract}

\section{Introduction} \label{sec:intro}
\input{intro}

\section{Overview of \brfcs}
\label{sec:overview}
\input{overview}

\section{Illustrative example}
\label{sec:example}
\input{example}

\section{\agr}
\label{sec:agree}
\input{verification-conditions}

\subsection{Syntax}
\label{sec:agree-semantics}
\input{agree-semantics}

\subsection{Formal contract for the example system}
\label{sec:sw-contract}
\input{sw-contract}

\section{Code contracts for high assurance components}
\label{sec:code-contracts}
\input{high-assurance-contracts}

\section{Test contracts}
\label{sec:testing}
\input{testing}

\section{Synthesis to CakeML}
\label{sec:synthesis}
\input{synthesis}

\section{Case study}
\label{sec:case-study}
\input{case-study}

\section{Related work}
\label{sec:related-work}
\input{related-work}

\ifREVISIONS
\subsection{Revisions}
\begin{compactitem}
  \item Add recent work published after 2018
\end{compactitem}
\fi

\section{Conclusion}
\label{sec:conclusion}
\input{conclusion}

\clearpage
\bibliographystyle{plain}
\bibliography{paper}

% \appendix
% \section{Contiguity Types}
% \input{contig}

% \section{System Model and Semantics}
% \input{system}

\end{document}
